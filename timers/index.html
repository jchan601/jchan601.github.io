<head>
<title>Countdown Timers</title>
<script>
function $(id) { // shortcut for document.getElementById
    return document.getElementById(id);
}

function stripHtml(string) {
    var regex = /(<([^>]+)>)/ig;
    string = string.replace(regex, "");
    return string;
}

function onLoad() {
    var xhr = new XMLHttpRequest(), out = ["<ul>"];
    xhr.open('GET', 'https://api.github.com/repos/jchan601/jchan601.github.io/contents/timers', false);
    xhr.send(null);
    if (xhr.status === 200) {
        var files = JSON.parse(xhr.responseText);
        for (var i = 0; i < files.length; i++) {
            var file = files[i];
            if (["unix.html", "index.html"].indexOf(file.name) !== -1) {
                continue;
            }
            var req = new XMLHttpRequest();
            req.open('GET', file.download_url, false); 
            req.send(null);
            if (req.status === 200) {
                var regexp = new RegExp("<title>(.*?)</title>"),
                    title = req.responseText.match(regexp)[1];
                out.push("<li><a href='" + file.name + "'>" + title + "</a></li>");
            }
        }
    }
    out.push("</ul>");
    $("timers").innerHTML = out.join("");
}
</script>
</head>


<body onload='onLoad()'>
    <strong>Timers:</strong>
    <div id='timers'>Loading...</div>
</body>